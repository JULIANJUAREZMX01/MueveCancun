# Deployment Instructions

This project is configured as an **SSR (Server-Side Rendering)** application using Astro's Node adapter. It must be deployed as a **Web Service** (not a Static Site) on platforms like Render.

## Render Deployment Guide

1.  **Service Type**: Create a **Web Service**. Do NOT use "Static Site".
2.  **Build Command**: `pnpm run build`
    *   This command runs `build:wasm`, checks WASM binaries, and then builds the Astro application.
3.  **Start Command**: `node ./dist/server/entry.mjs`
    *   This starts the Node.js server generated by Astro.
4.  **Environment Variables**:
    *   `NODE_VERSION`: `20.10.0` (Recommended)

### Troubleshooting "Publish directory does not exist"

If you see an error like `Publish directory does not exist!`, it means you have accidentally deployed this project as a **Static Site**. Static Sites expect a folder of HTML files to serve, but this project produces a running Node.js server. Please delete the Static Site service and create a Web Service instead.

### WASM Build Notes

The build process includes a fallback mechanism for `wasm-pack`:
-   If `wasm-pack` is available (installed via `dependencies`), it will compile the Rust code.
-   If `wasm-pack` is missing, the build script will look for pre-compiled artifacts in `public/wasm/`.
-   **Important**: Ensure `public/wasm/` contains the latest `.wasm` and `.js` files if deploying to an environment without Rust/Cargo.
