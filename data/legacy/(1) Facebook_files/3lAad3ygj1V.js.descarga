;/*FB_PKG_DELIM*/

__d("CometComposerBannerTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["ANONYMOUS_POST"]);i.CometComposerBannerTypes=e}),66);
__d("ComposerActivityType.flow",[],(function(t,n,r,o,a,i){"use strict";var e="668012816568345";i.COMPOSER_ATTENDS=e}),66);
__d("PollUIType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["MEDIA_POLL","REGULAR_POLL","SUPERPOLL"]),l=e;i.default=l}),66);
__d("PollsEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("629"),s=o("FalcoLoggerInternal").create("polls_event",e),u=s;l.default=u}),98);
__d("pollConfig",[],(function(t,n,r,o,a,i){"use strict";var e=3,l=1,s=140,u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMMOf7mPwAGhgMI34uZkgAAAABJRU5ErkJggg==",c=["image/bmp","image/heif","image/heic","image/jpeg","image/png","image/svg+xml","image/tiff","image/webp"];i.POLL_INITIAL_ITEM_COUNT=e,i.COMPANY_QA_POLL_INITIAL_ITEM_COUNT=l,i.POLL_MAX_OPTION_LENGTH=s,i.PLACEHOLDER_IMAGE_DATA_URI=u,i.IMAGE_TYPES_SUPPORTED=c}),66);
__d("composerPollReducer",["Promise","cometUniqueID","composerAttachmentAreaReducer","pollConfig","react-compiler-runtime","useComposerViewStateDispatcher","useGroupsCometPollEditorActionLogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){n===void 0&&(n=!1);var r=n?m(o("pollConfig").COMPANY_QA_POLL_INITIAL_ITEM_COUNT):e.items;return babelHelpers.extends({},e,{isCompanyQaPoll:n,items:r,targetID:t})}function u(){return"SUPERPOLL"}function c(e){return e.items.map(function(e){return e.attachment}).filter(Boolean).some(function(e){return!("entID"in e)})}function d(e,t){var n={collaborationMode:"PUBLIC",expirationTime:0,hiddenResult:!1,isCompanyQaPoll:!1,items:m(o("pollConfig").POLL_INITIAL_ITEM_COUNT),selectionMode:"MULTIPLE",targetID:null},r=e.poll==null?n:e.poll;switch(t.type){case"init_poll":return babelHelpers.extends({},e,{poll:s(n,t.targetID,t.isCompanyQaPoll)});case"add_empty_poll_item":return babelHelpers.extends({},e,{poll:babelHelpers.extends({},r,{items:r.items.concat(m(1))})});case"set_poll_selection_mode":return babelHelpers.extends({},e,{poll:babelHelpers.extends({},r,{selectionMode:t.pollSelectionMode})});case"set_poll_collaboration_mode":return babelHelpers.extends({},e,{poll:babelHelpers.extends({},r,{collaborationMode:t.pollCollaborationMode})});case"update_poll_item":return babelHelpers.extends({},e,{poll:babelHelpers.extends({},r,{items:r.items.map(function(e){return e.uid===t.pollItem.uid?t.pollItem:e})})});case"remove_poll_item":return babelHelpers.extends({},e,{poll:babelHelpers.extends({},r,{items:r.items.filter(function(e){return e.uid!==t.pollItem.uid})})});case"add_poll_expiration_time":return babelHelpers.extends({},e,{poll:babelHelpers.extends({},r,{expirationTime:t.expirationTime})});case"set_poll_hidden":return babelHelpers.extends({},e,{poll:babelHelpers.extends({},r,{hiddenResult:t.hiddenResult})});case"clear_poll":return babelHelpers.extends({},e,{poll:void 0});case"REMOVE_ATTACHMENT_TYPE":if(["POLL","COMPANY_POLL"].includes(t.attachmentType))return o("composerAttachmentAreaReducer").removeActiveAttachmentViewStateData(e,t,{attachmentType:t.attachmentType,field:"poll"})}return e}function m(e){for(var t=[],n=0;n<e;n++)t.push({text:"",uid:r("cometUniqueID")()});return t}function p(){var t=o("react-compiler-runtime").c(30),a=r("useComposerViewStateDispatcher")(),i=r("useGroupsCometPollEditorActionLogger")(),l;t[0]!==a||t[1]!==i?(l=function(){a({type:"add_empty_poll_item"}),i("CLIENT_OPTION_ADDED")},t[0]=a,t[1]=i,t[2]=l):l=t[2];var s;t[3]!==a?(s=function(t){a({expirationTime:t,type:"add_poll_expiration_time"})},t[3]=a,t[4]=s):s=t[4];var u,c,d;t[5]!==a||t[6]!==i?(u=function(r){return a({type:"clear_poll"}),i("CLIENT_POLL_CREATION_SESSION_ABANDON",r),(e||(e=n("Promise"))).resolve(!0)},c=function(t,n){a({isCompanyQaPoll:n,targetID:t,type:"init_poll"}),i("CLIENT_START_POLL_CREATION",t)},d=function(t){a({pollItem:t,type:"remove_poll_item"}),t.attachment!=null?i("CLIENT_PHOTO_DELETED"):i("CLIENT_OPTION_DELETED")},t[5]=a,t[6]=i,t[7]=u,t[8]=c,t[9]=d):(u=t[7],c=t[8],d=t[9]);var m,p,_;t[10]!==a?(m=function(t){a({pollCollaborationMode:t,type:"set_poll_collaboration_mode"})},p=function(t){a({hiddenResult:t,type:"set_poll_hidden"})},_=function(t){a({pollSelectionMode:t,type:"set_poll_selection_mode"})},t[10]=a,t[11]=m,t[12]=p,t[13]=_):(m=t[11],p=t[12],_=t[13]);var f;t[14]!==a||t[15]!==i?(f=function(t,n){a({pollItem:babelHelpers.extends({},t,{attachment:n}),type:"update_poll_item"}),n!=null&&n.state==="UPLOADED"&&i("CLIENT_PHOTO_ADDED")},t[14]=a,t[15]=i,t[16]=f):f=t[16];var g;t[17]!==a?(g=function(t,n){a({pollItem:babelHelpers.extends({},t,{text:n}),type:"update_poll_item"})},t[17]=a,t[18]=g):g=t[18];var h;return t[19]!==l||t[20]!==s||t[21]!==u||t[22]!==c||t[23]!==d||t[24]!==m||t[25]!==p||t[26]!==_||t[27]!==f||t[28]!==g?(h={addEmptyPollItem:l,addPollExpirationTime:s,clearPoll:u,initPoll:c,removePollItem:d,setCollaborationMode:m,setPollHidden:p,setSelectionMode:_,updatePollItemAttachment:f,updatePollItemText:g},t[19]=l,t[20]=s,t[21]=u,t[22]=c,t[23]=d,t[24]=m,t[25]=p,t[26]=_,t[27]=f,t[28]=g,t[29]=h):h=t[29],h}l.getPollUIType=u,l.hasPendingAttachments=c,l.composerPollReducer=d,l.createPollItems=m,l.useComposerPollItemsHooks=p}),98);
__d("useGroupsCometPollEditorActionLogger",["CometComposerViewStateContext","PollsEventFalcoEvent","composerPollReducer","getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext;function d(e){return String(Number(e))}function m(e){if(e!=null)return r("getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE")(e)}function p(e){if(e!=null)switch(e.selectionMode){case"SINGLE":return 1;case"MULTIPLE":return 2}}function _(){var e=o("react-compiler-runtime").c(5),t=c(r("CometComposerViewStateContext")),n=t.creationSessionID,a=t.editorState,i=t.poll,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=o("composerPollReducer").getPollUIType(),e[0]=l):l=e[0];var s=l,u;return e[1]!==n||e[2]!==a||e[3]!==i?(u=function(t,o){r("PollsEventFalcoEvent").log(function(){var e,r,l;return{action:t,action_time:Date.now(),composer_session_id:n,num_options_with_media:i?String(i==null||(e=i.items)==null?void 0:e.filter(f).length):null,num_poll_options:String((r=i==null||(l=i.items)==null?void 0:l.length)!=null?r:0),poll_id:i==null?void 0:i.id,poll_question_metadata:{allow_multi_select:d((i==null?void 0:i.selectionMode)==="MULTIPLE"),allow_user_option_add:d((i==null?void 0:i.collaborationMode)==="PUBLIC"),post_id:i==null?void 0:i.containerPostID,question_text:m(a)},poll_type:p(i),poll_ui_type:s,target_id:(i==null?void 0:i.targetID)!=null?i==null?void 0:i.targetID:o}})},e[1]=n,e[2]=a,e[3]=i,e[4]=u):u=e[4],u}function f(e){var t;return((t=e.attachment)==null?void 0:t.fileObjectURL)!=null}l.default=_}),98);
__d("useGroupsCometComposerUsageLogger",["react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback,u=r("requireDeferred")("GroupComposerExtentionsUsageFalcoEvent").__setRef("useGroupsCometComposerUsageLogger");function c(e){var t=o("react-compiler-runtime").c(6),n=e.composerMode,r=e.entryPoint,a=e.extensionName,i=e.groupID,l=e.sessionID,s;return t[0]!==n||t[1]!==r||t[2]!==a||t[3]!==i||t[4]!==l?(s=function(t,o){var e=o===void 0?{}:o,s=e.extraMetadata,c=e.value,d={composer_mode:n,entry_point:r,event_type:t,extension_name:a,extra_metadata:s,group_id:i,new_extension_value:c,session_id:l};u.onReady(function(e){e.log(function(){return d})})},t[0]=n,t[1]=r,t[2]=a,t[3]=i,t[4]=l,t[5]=s):s=t[5],s}l.default=c}),98);