---
---
<div id="brand-hero-container" class="flex justify-center items-center h-10 mt-2">
    <span class="brand-container font-display font-black text-2xl tracking-tight text-deep-navy transition-all duration-300" data-original="true" data-phase="0">
        Cancún<span class="text-primary-500">Mueve</span>
    </span>
</div>

<script>
    function handleBrandUpdate(e) {
        const phase = e.detail.phase;
        const container = document.querySelector('.brand-container');
        if (!container) return;

        if (phase === 1) {
            // Cancún -> CancúnENMueve
            if (container.dataset.phase === '1') return;
            container.innerHTML = `Cancún<span class="text-[#006847] animate-pop-in inline-block mx-[1px]">EN</span><span class="text-primary-500">Mueve</span>`;
            container.dataset.phase = '1';
        } else if (phase === 2) {
            // -> CancúnENMueveTE
            if (container.dataset.phase === '2') return;
            container.innerHTML = `Cancún<span class="text-[#006847] mx-[1px]">EN</span><span class="text-primary-500">Mueve</span><span class="text-[#CE1126] animate-pop-in inline-block">TE</span>`;
            container.dataset.phase = '2';
        } else if (phase === 3) {
            // Tetris -> ¡MUEVETE EN CANCUN!
            if (container.dataset.phase === '3') return;

            container.innerHTML = `
            <div class="flex items-center gap-1.5 leading-none transform scale-110">
                <span class="text-[#006847] animate-tetris-1">¡MUEVETE</span>
                <span class="text-slate-900 bg-white border border-slate-900 px-1 rounded text-[0.8em] animate-tetris-2 self-center">EN</span>
                <span class="text-[#CE1126] animate-tetris-3">CANCUN!</span>
            </div>
            `;
            container.dataset.phase = '3';
        }
    }

    // Attach listener
    window.removeEventListener('BRAND_UPDATE', handleBrandUpdate);
    window.addEventListener('BRAND_UPDATE', handleBrandUpdate);
</script>

<style is:global>
    @keyframes pop-in {
      0% { transform: scale(0); opacity: 0; }
      80% { transform: scale(1.2); opacity: 1; }
      100% { transform: scale(1); }
    }
    .animate-pop-in { animation: pop-in 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }

    @keyframes fall-down {
      0% { transform: translateY(-20px); opacity: 0; }
      100% { transform: translateY(0); opacity: 1; }
    }
    .animate-tetris-1 { animation: fall-down 0.5s ease-out forwards; display: inline-block; }
    .animate-tetris-2 { animation: fall-down 0.5s ease-out 0.2s forwards; opacity: 0; display: inline-block; }
    .animate-tetris-3 { animation: fall-down 0.5s ease-out 0.4s forwards; opacity: 0; display: inline-block; }
</style>
