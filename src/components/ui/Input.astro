---
interface Props {
  type?: 'text' | 'email' | 'password' | 'number' | 'search';
  id?: string;
  name?: string;
  placeholder?: string;
  value?: string;
  list?: string;
  class?: string;
  label?: string;
  icon?: string; // URL to icon
  'aria-controls'?: string;
  'aria-expanded'?: boolean | string;
}

const { type = 'text', id, name, placeholder, value, list, class: className, label, icon, 'aria-controls': ariaControls, 'aria-expanded': ariaExpanded } = Astro.props;
---

<div class={`w-full ${className || ''}`}>
  {label && (
    <label for={id} class="block text-sm font-medium text-slate-500 mb-1 flex items-center gap-1">
      {icon && <img src={icon} class="w-4 h-4" alt="" />}
      {label}
    </label>
  )}
  <div class="relative">
    <input
      type={type}
      id={id}
      name={name}
      placeholder={placeholder}
      value={value}
      list={list}
      aria-controls={ariaControls}
      aria-expanded={ariaExpanded}
      class="w-full min-h-[44px] px-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-lg font-bold text-gray-900 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-100 transition-all placeholder:text-gray-300 pr-12"
    />
    <slot name="action" />
  </div>
  <slot name="datalist" />
</div>
