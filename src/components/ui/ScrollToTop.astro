---
---

<a href="#top" id="scroll-to-top" class="scroll-to-top" aria-label="Volver arriba">
  <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
    <path d="M12 4l-8 8h6v8h4v-8h6z" />
  </svg>
</a>

<style>
  /*
   * GRAFFITI WARRIOR: Scroll-Driven Animation
   * Only visible when scrolling down. Pure CSS.
   */
  .scroll-to-top {
    position: fixed;
    bottom: 5.5rem; /* Above bottom nav (which is ~4rem) */
    right: 1.5rem;
    z-index: 49; /* Above content, below modals (z-50) */

    display: flex;
    align-items: center;
    justify-content: center;
    width: 3rem;
    height: 3rem;

    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid var(--border-light);
    border-radius: 50%;
    color: var(--text-primary);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);

    text-decoration: none;
    cursor: pointer;
    transition: background-color 0.2s, transform 0.2s, color 0.2s;

    /* Initial State */
    opacity: 0;
    pointer-events: none;
    transform: translateY(20px);

    /* Animation Logic */
    animation: reveal linear forwards;
    animation-timeline: scroll();
    animation-range: 20vh 40vh; /* Start fading in at 20vh, fully visible at 40vh */
  }

  :global(.dark) .scroll-to-top {
    background: rgba(30, 41, 59, 0.9); /* slate-800 */
    border-color: rgba(255, 255, 255, 0.1);
    color: white;
  }

  .scroll-to-top:hover {
    background: var(--color-primary); /* Primary-500 */
    color: white;
    transform: translateY(-2px);
    border-color: transparent;
  }

  .scroll-to-top:active {
    transform: scale(0.95);
  }

  @keyframes reveal {
    to {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }
  }

  /* Fallback for browsers without animation-timeline support (optional, but good practice) */
  @supports not (animation-timeline: scroll()) {
    .scroll-to-top {
      opacity: 0.8; /* Always visible but slightly transparent */
      pointer-events: auto;
      transform: translateY(0);
      /* Use JS if absolutely necessary, but here we just degrade gracefully to "always visible" */
      /* Or better: use sticky positioning or just hide it */
      display: none;
    }
  }
</style>
